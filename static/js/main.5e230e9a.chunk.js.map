{"version":3,"sources":["../node_modules/peerjs/dist sync","components/Header.jsx","components/Video.jsx","components/Editor.jsx","components/VideoBar.jsx","components/ConfigBar.jsx","config/mappings.js","components/Footer.jsx","components/App.jsx","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Header","props","state","video","audio","this","setState","window","prompt","location","href","className","onClick","handleClick","onVideoToggle","userId","toggleVideoCss","onAudioToggle","toggleAudioCss","Component","Video","srcObject","media","width","height","muted","children","autoPlay","ref","React","defaultProps","lang","font","theme","VideoBar","peersStream","map","peer","stream","ConfigBar","Dropdown","placeholder","selection","options","themes","onChange","data","handleOnChange","defaultValue","value","languages","defaultMode","fontSizes","handleRunClick","Object","c","cpp","python","python3","java","sort","Editor","mode","fontSize","i","language","key","text","j","k","bind","console","log","parseInt","Fragment","split","minSize","maxSize","innerWidth","defaultSize","style","onChangeCode","showGutter","useWorker","editorProps","$blockScrolling","setOptions","enableLiveAutocompletion","enableSnippets","input","onChangeInput","output","onChangeOutput","readOnly","Footer","target","myPeer","Peer","socket","io","peers","App","handleVideoToggle","handleAudioToggle","handleChangeCode","handleChangeInput","handleChangeOutput","on","navigator","mediaDevices","getUserMedia","then","addUserIdAndStream","addVideoStream","connectToNewUser","sendDatatoNewUser","call","answer","userVideoStream","peersModified","filter","emit","roomId","payload","updateCodeFromSockets","updateInputFromSockets","updateOutputFromSockets","updateStateFromSockets","close","newCode","newInput","newOutput","flag","getVideoTracks","enabled","getAudioTracks","forEach","push","params","source_code","api_key","axios","post","res","query","URLSearchParams","request","retries","callback","get","toString","response","status","catch","error","stdout","stderr","build_stderr","uuidV4","require","v4","Room","useParams","ReactDOM","render","exact","path","to","document","getElementById"],"mappings":"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","file":"static/js/main.5e230e9a.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 585;","import React, { Component } from \"react\";\r\nimport \"../css/Header.css\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      video: false,\r\n      audio: false,\r\n    };\r\n  }\r\n  toggleAudioCss() {\r\n    let audio = this.state.audio;\r\n    this.setState({ audio: !audio });\r\n  }\r\n  toggleVideoCss() {\r\n    let video = this.state.video;\r\n    this.setState({ video: !video });\r\n  }\r\n  handleClick() {\r\n    window.prompt(\"ROOM URL\", window.location.href);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"header\">\r\n        <div href=\"#\" className=\"logo\">\r\n          PEER CODER\r\n        </div>\r\n        <button className=\"copy-url\" onClick={() => this.handleClick()}>\r\n          ROOM URL\r\n        </button>\r\n        <div className=\"header-right\">\r\n          <button\r\n            className={this.state.video ? \"buttonOn\" : \"buttonOff\"}\r\n            onClick={() => {\r\n              this.props.onVideoToggle(this.props.userId);\r\n              this.toggleVideoCss();\r\n            }}\r\n          >\r\n            <i\r\n              className={\r\n                this.state.video ? \"fa fa-video-camera\" : \"fa fa-video-slash\"\r\n              }\r\n            ></i>\r\n          </button>\r\n          <button\r\n            className={this.state.audio ? \"buttonOn\" : \"buttonOff\"}\r\n            onClick={() => {\r\n              this.props.onAudioToggle(this.props.userId);\r\n              this.toggleAudioCss();\r\n            }}\r\n          >\r\n            <i\r\n              className={\r\n                this.state.audio ? \"fa fa-microphone\" : \"fa fa-microphone-slash\"\r\n              }\r\n            ></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport \"../css/Video.css\";\r\n\r\nclass Video extends React.Component {\r\n  componentDidMount() {\r\n    this.video.srcObject = this.props.media;\r\n  }\r\n\r\n  shouldComponentUpdate(props) {\r\n    return this.props.media !== props.media;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.video.srcObject = this.props.media;\r\n  }\r\n\r\n  render() {\r\n    const { width, height, muted, children } = this.props;\r\n\r\n    return (\r\n      <video\r\n        height={height}\r\n        width={width}\r\n        muted={muted}\r\n        autoPlay\r\n        ref={(video) => {\r\n          this.video = video;\r\n        }}\r\n      >\r\n        {children}\r\n      </video>\r\n    );\r\n  }\r\n}\r\n\r\nVideo.defaultProps = {\r\n  children: null,\r\n  height: 110,\r\n  width: 160,\r\n  muted: false,\r\n  media: null,\r\n};\r\n\r\nVideo.propTypes = {\r\n  children: PropTypes.element,\r\n  media: PropTypes.shape({\r\n    active: PropTypes.bool,\r\n    ended: PropTypes.bool,\r\n    id: PropTypes.string,\r\n  }),\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n  muted: PropTypes.bool,\r\n};\r\n\r\nexport default Video;\r\n","import React, { Component } from \"react\";\r\nimport ConfigBar from \"./ConfigBar\";\r\nimport AceEditor from \"react-ace\";\r\nimport SplitPane from \"react-split-pane\";\r\nimport { languageToEditorMode } from \"../config/mappings\";\r\nimport \"ace-builds/webpack-resolver\";\r\n\r\nimport \"ace-builds/src-noconflict/ext-language_tools\";\r\n\r\nimport \"ace-builds/src-noconflict/mode-java\";\r\nimport \"ace-builds/src-noconflict/mode-c_cpp\";\r\nimport \"ace-builds/src-noconflict/mode-python\";\r\nimport \"ace-builds/src-noconflict/mode-javascript\";\r\nimport \"ace-builds/src-noconflict/mode-rust\";\r\nimport \"ace-builds/src-noconflict/mode-kotlin\";\r\n\r\nimport \"ace-builds/src-noconflict/theme-github\";\r\nimport \"ace-builds/src-noconflict/theme-solarized_dark\";\r\nimport \"ace-builds/src-noconflict/theme-dracula\";\r\nimport \"ace-builds/src-noconflict/theme-monokai\";\r\nimport \"ace-builds/src-noconflict/theme-eclipse\";\r\nimport \"ace-builds/src-noconflict/theme-tomorrow_night\";\r\nimport \"ace-builds/src-noconflict/theme-tomorrow_night_blue\";\r\nimport \"ace-builds/src-noconflict/theme-xcode\";\r\nimport \"ace-builds/src-noconflict/theme-ambiance\";\r\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\r\n\r\nimport \"../css/Editor.css\";\r\n\r\nconst languages = Object.keys(languageToEditorMode);\r\nconst fontSizes = [\r\n  \"8\",\r\n  \"10\",\r\n  \"12\",\r\n  \"14\",\r\n  \"16\",\r\n  \"18\",\r\n  \"20\",\r\n  \"22\",\r\n  \"24\",\r\n  \"26\",\r\n  \"28\",\r\n  \"30\",\r\n  \"32\",\r\n];\r\nconst themes = [\r\n  \"monokai\",\r\n  \"github\",\r\n  \"solarized_dark\",\r\n  \"dracula\",\r\n  \"eclipse\",\r\n  \"tomorrow_night\",\r\n  \"tomorrow_night_blue\",\r\n  \"xcode\",\r\n  \"ambiance\",\r\n  \"solarized_light\",\r\n].sort();\r\nvar lang;\r\nvar font;\r\nvar theme;\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: \"java\",\r\n      theme: \"tomorrow_night_blue\",\r\n      fontSize: 16,\r\n    };\r\n    let i = 0;\r\n    lang = languages.map((language) => {\r\n      i++;\r\n      return { key: \"\" + i, text: language, value: language };\r\n    });\r\n    let j = 0;\r\n    font = fontSizes.map((fontSize) => {\r\n      j++;\r\n      return { key: \"\" + j, text: fontSize, value: fontSize };\r\n    });\r\n    let k = 0;\r\n    theme = themes.map((theme) => {\r\n      k++;\r\n      return { key: \"\" + k, text: theme, value: theme };\r\n    });\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n  }\r\n  handleOnChange(e, data) {\r\n    console.log(data);\r\n    if (data.placeholder === \"Theme\") {\r\n      this.setState({ theme: data.value });\r\n    } else if (data.placeholder === \"Font Size\") {\r\n      this.setState({ fontSize: parseInt(data.value) });\r\n    } else if (data.placeholder === \"Language\") {\r\n      this.setState({ mode: data.value });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ConfigBar\r\n          defaultMode={this.state.mode}\r\n          handleOnChange={this.handleOnChange}\r\n          languages={lang}\r\n          fontSizes={font}\r\n          themes={theme}\r\n          handleRunClick={() => this.props.handleRunClick(this.state.mode)}\r\n        />\r\n        <SplitPane\r\n          split=\"vertical\"\r\n          minSize={100}\r\n          maxSize={window.innerWidth - 50}\r\n          defaultSize={window.innerWidth * 0.5}\r\n          style={{ height: \"65vh\" }}\r\n        >\r\n          <div>\r\n            <div className=\"head\">\r\n              <div className=\"text\">CODE HERE</div>\r\n            </div>\r\n            <AceEditor\r\n              mode={this.state.mode}\r\n              theme={this.state.theme}\r\n              fontSize={this.state.fontSize}\r\n              value={this.props.code}\r\n              onChange={(data) => this.props.onChangeCode(data)}\r\n              width={\"100vw\"}\r\n              height={\"61.4vh\"}\r\n              showGutter={true}\r\n              useWorker={false}\r\n              editorProps={{ $blockScrolling: false }}\r\n              setOptions={{\r\n                enableLiveAutocompletion: true,\r\n                enableSnippets: true,\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"head\">\r\n                <div className=\"text\">INPUT</div>\r\n              </div>\r\n              <AceEditor\r\n                mode={this.state.mode}\r\n                theme={this.state.theme}\r\n                fontSize={this.state.fontSize}\r\n                value={this.props.input}\r\n                onChange={(data) => this.props.onChangeInput(data)}\r\n                width={\"100vw\"}\r\n                height={\"28vh\"}\r\n                showGutter={true}\r\n                useWorker={false}\r\n                editorProps={{ $blockScrolling: false }}\r\n                setOptions={{\r\n                  enableLiveAutocompletion: true,\r\n                  enableSnippets: true,\r\n                }}\r\n              />\r\n            </div>\r\n            <div>\r\n              <div className=\"head\">\r\n                <div className=\"text\">OUTPUT</div>\r\n              </div>\r\n              <AceEditor\r\n                mode={this.state.mode}\r\n                theme={this.state.theme}\r\n                fontSize={this.state.fontSize}\r\n                value={this.props.output}\r\n                onChange={(data) => this.props.onChangeOutput(data)}\r\n                width={\"100vw\"}\r\n                height={\"32vh\"}\r\n                readOnly={true}\r\n                showGutter={true}\r\n                useWorker={false}\r\n                editorProps={{ $blockScrolling: false }}\r\n                setOptions={{\r\n                  enableLiveAutocompletion: true,\r\n                  enableSnippets: true,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </SplitPane>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Editor;\r\n","import React, { Component } from \"react\";\r\nimport Video from \"./Video\";\r\nimport \"../css/VideoBar.css\";\r\n\r\nclass VideoBar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"scrollmenu\">\r\n        {this.props.peersStream.map((peer) => {\r\n          return (\r\n            <Video\r\n              key={peer.userId}\r\n              media={peer.stream}\r\n              height={110}\r\n              width={160}\r\n              muted={this.props.userId === peer.userId ? true : false}\r\n            ></Video>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default VideoBar;\r\n","import React, { Component } from \"react\";\r\nimport { Dropdown } from \"semantic-ui-react\";\r\nimport \"../css/ConfigBar.css\";\r\n\r\nclass ConfigBar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"config-bar\">\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Theme\"\r\n          selection\r\n          options={this.props.themes}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.themes[8].value}\r\n        />\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Language\"\r\n          selection\r\n          options={this.props.languages}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.defaultMode}\r\n        />\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Font Size\"\r\n          selection\r\n          options={this.props.fontSizes}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.fontSizes[4].value}\r\n        />\r\n        <button className=\"run\" onClick={() => this.props.handleRunClick()}>\r\n          Run\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfigBar;\r\n","const languageToEditorMode = {\r\n  c: \"c_cpp\",\r\n  cpp: \"c_cpp\",\r\n  python: \"python\",\r\n  python3: \"python\",\r\n  java: \"java\",\r\n};\r\n\r\nexport { languageToEditorMode };\r\n","import React, { Component } from \"react\";\r\nimport \"../css/Footer.css\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer\">\r\n        <a\r\n          href=\"https://github.com/shreyshreyansh/Peer-Coder\"\r\n          target=\"_blank\"\r\n          className=\"left-footer\"\r\n        >\r\n          ⭐ Star Project\r\n        </a>\r\n        <a href=\"https://github.com\" target=\"_blank\" className=\"right-footer\">\r\n          © GitHub community\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport VideoBar from \"./VideoBar\";\r\nimport Editor from \"./Editor\";\r\nimport Footer from \"./Footer\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"peerjs\";\r\nimport axios from \"axios\";\r\nimport \"../css/App.css\";\r\nconst myPeer = new Peer();\r\nconst socket = io(\"https://peaceful-depths-33963.herokuapp.com/\");\r\nconst peers = {};\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userId: \"\",\r\n      stream: {},\r\n      peers: [],\r\n      code: \"\",\r\n      input: \"\",\r\n      output: \"\",\r\n    };\r\n    this.handleVideoToggle = this.handleVideoToggle.bind(this);\r\n    this.handleAudioToggle = this.handleAudioToggle.bind(this);\r\n    this.handleChangeCode = this.handleChangeCode.bind(this);\r\n    this.handleChangeInput = this.handleChangeInput.bind(this);\r\n    this.handleChangeOutput = this.handleChangeOutput.bind(this);\r\n    this.handleRunClick = this.handleRunClick.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    myPeer.on(\"open\", (id) => {\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          video: true,\r\n          audio: true,\r\n        })\r\n        .then((stream) => {\r\n          this.addUserIdAndStream(id, stream);\r\n          this.addVideoStream(id, stream, false);\r\n          socket.on(\"user-connected\", (userId) => {\r\n            this.connectToNewUser(userId, stream);\r\n            this.sendDatatoNewUser();\r\n          });\r\n          myPeer.on(\"call\", (call) => {\r\n            call.answer(stream);\r\n            call.on(\"stream\", (userVideoStream) => {\r\n              this.addVideoStream(call.peer, userVideoStream, false);\r\n            });\r\n            call.on(\"close\", () => {\r\n              const peers = this.state.peers;\r\n              var peersModified = peers.filter((peer) => {\r\n                return peer.userId !== call.peer;\r\n              });\r\n              this.setState({ peers: peersModified });\r\n            });\r\n            peers[call.peer] = call;\r\n          });\r\n          socket.emit(\"join-room\", this.props.roomId, id);\r\n          socket.on(\"receive code\", (payload) => {\r\n            this.updateCodeFromSockets(payload);\r\n          });\r\n          socket.on(\"receive input\", (payload) => {\r\n            this.updateInputFromSockets(payload);\r\n          });\r\n          socket.on(\"receive output\", (payload) => {\r\n            this.updateOutputFromSockets(payload);\r\n          });\r\n          socket.on(\"receive-data-for-new-user\", (payload) => {\r\n            this.updateStateFromSockets(payload);\r\n          });\r\n        });\r\n    });\r\n    socket.on(\"user-disconnected\", (userId) => {\r\n      if (peers[userId]) peers[userId].close();\r\n    });\r\n  }\r\n  sendDatatoNewUser() {\r\n    socket.emit(\"data-for-new-user\", {\r\n      newCode: this.state.code,\r\n      newInput: this.state.input,\r\n      newOutput: this.state.output,\r\n    });\r\n  }\r\n  updateStateFromSockets(payload) {\r\n    this.setState({ code: payload.newCode });\r\n    this.setState({ input: payload.newInput });\r\n    this.setState({ output: payload.newOutput });\r\n  }\r\n  updateCodeFromSockets(payload) {\r\n    this.setState({ code: payload.newCode });\r\n  }\r\n  updateInputFromSockets(payload) {\r\n    this.setState({ input: payload.newInput });\r\n  }\r\n  updateOutputFromSockets(payload) {\r\n    this.setState({ output: payload.newOutput });\r\n  }\r\n  connectToNewUser(userId, stream) {\r\n    const call = myPeer.call(userId, stream);\r\n    call.on(\"stream\", (userVideoStream) => {\r\n      this.addVideoStream(userId, userVideoStream, false);\r\n    });\r\n    call.on(\"close\", () => {\r\n      const peers = this.state.peers;\r\n      var peersModified = peers.filter((peer) => {\r\n        return peer.userId !== userId;\r\n      });\r\n      this.setState({ peers: peersModified });\r\n    });\r\n    peers[userId] = call;\r\n  }\r\n\r\n  addVideoStream(userId, stream, flag) {\r\n    if (userId === this.state.userId) {\r\n      stream.getVideoTracks()[0].enabled = false;\r\n      stream.getAudioTracks()[0].enabled = false;\r\n    }\r\n    const peers = this.state.peers;\r\n    peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        peer.stream = stream;\r\n        flag = true;\r\n      }\r\n    });\r\n    if (!flag) peers.push({ userId: userId, stream: stream });\r\n    this.setState({ peers: peers });\r\n  }\r\n\r\n  addUserIdAndStream(userId, stream) {\r\n    this.setState({ userId: userId, stream: stream });\r\n  }\r\n\r\n  handleVideoToggle(userId) {\r\n    this.state.peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        const enabled = peer.stream.getVideoTracks()[0].enabled;\r\n        peer.stream.getVideoTracks()[0].enabled = !enabled;\r\n      }\r\n    });\r\n  }\r\n\r\n  handleAudioToggle(userId) {\r\n    this.state.peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        const enabled = peer.stream.getAudioTracks()[0].enabled;\r\n        peer.stream.getAudioTracks()[0].enabled = !enabled;\r\n      }\r\n    });\r\n  }\r\n  handleChangeCode(newCode) {\r\n    this.setState({ code: newCode });\r\n    socket.emit(\"code change\", {\r\n      newCode: newCode,\r\n    });\r\n  }\r\n  handleChangeInput(newInput) {\r\n    this.setState({ input: newInput });\r\n    socket.emit(\"input change\", {\r\n      newInput: newInput,\r\n    });\r\n  }\r\n  handleChangeOutput(newOutput) {\r\n    this.setState({ output: newOutput });\r\n    socket.emit(\"output change\", {\r\n      newOutput: newOutput,\r\n    });\r\n  }\r\n  handleRunClick(mode) {\r\n    const params = {\r\n      source_code: this.state.code,\r\n      language: mode,\r\n      input: this.state.input,\r\n      api_key: \"guest\",\r\n    };\r\n    axios.post(`https://api.paiza.io/runners/create`, params).then((res) => {\r\n      const query = new URLSearchParams({\r\n        id: res.data.id,\r\n        api_key: \"guest\",\r\n      });\r\n      // your callback gets executed automatically once the data is received\r\n      var callback = (res, error) => {\r\n        // consume data\r\n        if (error) {\r\n          console.error(error);\r\n          return;\r\n        }\r\n        let output = \"\";\r\n        if (res.data.stdout) output += res.data.stdout;\r\n        if (res.data.stderr) output += res.data.stderr;\r\n        if (res.data.build_stderr) output += res.data.build_stderr;\r\n        this.setState({ output: output });\r\n      };\r\n\r\n      request(10, callback);\r\n      function request(retries, callback) {\r\n        axios\r\n          .get(`https://api.paiza.io/runners/get_details?${query.toString()}`)\r\n          .then((response) => {\r\n            // request successful\r\n\r\n            if (response.data.status === \"completed\") {\r\n              // server done, deliver data to script to consume\r\n              callback(response);\r\n            } else {\r\n              if (retries > 0) {\r\n                request(--retries, callback);\r\n              } else {\r\n                // no retries left, calling callback with error\r\n                callback([], \"out of retries\");\r\n              }\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            // ajax error occurred\r\n            // would be better to not retry on 404, 500 and other unrecoverable HTTP errors\r\n            // retry, if any retries left\r\n            if (retries > 0) {\r\n              request(--retries, callback);\r\n            } else {\r\n              // no retries left, calling callback with error\r\n              callback([], error);\r\n            }\r\n          });\r\n      }\r\n    });\r\n    //console.log(params);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header\r\n          userId={this.state.userId}\r\n          stream={this.state.stream}\r\n          onVideoToggle={this.handleVideoToggle}\r\n          onAudioToggle={this.handleAudioToggle}\r\n        />\r\n        <VideoBar peersStream={this.state.peers} userId={this.state.userId} />\r\n        <Editor\r\n          code={this.state.code}\r\n          input={this.state.input}\r\n          output={this.state.output}\r\n          onChangeCode={this.handleChangeCode}\r\n          onChangeInput={this.handleChangeInput}\r\n          onChangeOutput={this.handleChangeOutput}\r\n          handleRunClick={this.handleRunClick}\r\n        />\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport {\n  HashRouter as Router,\n  Route,\n  useParams,\n  Redirect,\n} from \"react-router-dom\";\nconst { v4: uuidV4 } = require(\"uuid\");\nReactDOM.render(\n  <Router>\n    <Route exact path=\"/\">\n      <Redirect to={\"/\" + uuidV4()} />\n    </Route>\n    <Route path=\"/:roomId\" children={<Room />} />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\nfunction Room() {\n  let { roomId } = useParams();\n  return <App roomId={roomId} />;\n}\n"],"sourceRoot":""}