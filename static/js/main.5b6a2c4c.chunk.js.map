{"version":3,"sources":["../node_modules/peerjs/dist sync","components/Header.jsx","components/Video.jsx","components/Editor.jsx","components/VideoBar.jsx","components/ConfigBar.jsx","config/mappings.js","components/Footer.jsx","components/App.jsx","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Header","props","state","video","audio","this","setState","className","href","onClick","onVideoToggle","userId","toggleVideoCss","onAudioToggle","toggleAudioCss","Component","Video","srcObject","media","width","height","muted","children","autoPlay","ref","React","defaultProps","lang","font","theme","VideoBar","peersStream","map","peer","stream","ConfigBar","Dropdown","placeholder","selection","options","themes","onChange","data","handleOnChange","defaultValue","value","languages","defaultMode","fontSizes","Object","c","cpp","python","python3","java","javascript","kotlin","rust","sort","Editor","mode","fontSize","i","language","key","text","j","k","bind","console","log","parseInt","Fragment","split","minSize","maxSize","window","innerWidth","defaultSize","style","onChangeCode","showGutter","editorProps","$blockScrolling","setOptions","enableLiveAutocompletion","enableSnippets","input","onChangeInput","output","onChangeOutput","readOnly","Footer","target","myPeer","Peer","socket","io","peers","App","handleVideoToggle","handleAudioToggle","handleChangeCode","handleChangeInput","handleChangeOutput","on","navigator","mediaDevices","getUserMedia","then","addUserIdAndStream","addVideoStream","connectToNewUser","sendDatatoNewUser","call","answer","userVideoStream","peersModified","filter","emit","roomId","payload","updateCodeFromSockets","updateInputFromSockets","updateOutputFromSockets","updateStateFromSockets","close","newCode","newInput","newOutput","flag","getVideoTracks","enabled","getAudioTracks","forEach","push","uuidV4","require","v4","Room","useParams","ReactDOM","render","exact","path","to","document","getElementById"],"mappings":"mIAAA,SAASA,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,yJCkDVC,E,kDAtDb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,OAAO,EACPC,OAAO,GAJQ,E,kDAOnB,WACE,IAAIA,EAAQC,KAAKH,MAAME,MACvBC,KAAKC,SAAS,CAAEF,OAAQA,M,4BAE1B,WACE,IAAID,EAAQE,KAAKH,MAAMC,MACvBE,KAAKC,SAAS,CAAEH,OAAQA,M,oBAE1B,WAAU,IAAD,OACP,OACE,sBAAKI,UAAU,SAAf,UACE,sBAAMC,KAAK,IAAID,UAAU,OAAzB,wBAGA,sBAAKA,UAAU,eAAf,UACE,wBACEA,UAAWF,KAAKH,MAAMC,MAAQ,WAAa,YAC3CM,QAAS,WACP,EAAKR,MAAMS,cAAc,EAAKT,MAAMU,QACpC,EAAKC,kBAJT,SAOE,mBACEL,UACEF,KAAKH,MAAMC,MAAQ,qBAAuB,wBAIhD,wBACEI,UAAWF,KAAKH,MAAME,MAAQ,WAAa,YAC3CK,QAAS,WACP,EAAKR,MAAMY,cAAc,EAAKZ,MAAMU,QACpC,EAAKG,kBAJT,SAOE,mBACEP,UACEF,KAAKH,MAAME,MAAQ,mBAAqB,uC,GA7CnCW,aCCfC,G,6KACJ,WACEX,KAAKF,MAAMc,UAAYZ,KAAKJ,MAAMiB,Q,mCAGpC,SAAsBjB,GACpB,OAAOI,KAAKJ,MAAMiB,QAAUjB,EAAMiB,Q,gCAGpC,WACEb,KAAKF,MAAMc,UAAYZ,KAAKJ,MAAMiB,Q,oBAGpC,WAAU,IAAD,OACP,EAA2Cb,KAAKJ,MAAxCkB,EAAR,EAAQA,MAAOC,EAAf,EAAeA,OAAQC,EAAvB,EAAuBA,MAAOC,EAA9B,EAA8BA,SAE9B,OACE,uBACEF,OAAQA,EACRD,MAAOA,EACPE,MAAOA,EACPE,UAAQ,EACRC,IAAK,SAACrB,GACJ,EAAKA,MAAQA,GANjB,SASGmB,Q,GA1BWG,IAAMV,YAgC1BC,EAAMU,aAAe,CACnBJ,SAAU,KACVF,OAAQ,IACRD,MAAO,IACPE,OAAO,EACPH,MAAO,MAeMF,ICCXW,EACAC,EACAC,EDHWb,IEjCAc,G,kKAlBb,WAAU,IAAD,OACP,OACE,qBAAKvB,UAAU,aAAf,SACGF,KAAKJ,MAAM8B,YAAYC,KAAI,SAACC,GAC3B,OACE,cAAC,EAAD,CAEEf,MAAOe,EAAKC,OACZd,OAAQ,IACRD,MAAO,IACPE,MAAO,EAAKpB,MAAMU,SAAWsB,EAAKtB,QAJ7BsB,EAAKtB,iB,GAPDI,c,SCiCRoB,G,kKAhCb,WAAU,IAAD,OACP,OACE,sBAAK5B,UAAU,aAAf,UACE,cAAC6B,EAAA,EAAD,CACE7B,UAAU,WACV8B,YAAY,QACZC,WAAS,EACTC,QAASlC,KAAKJ,MAAMuC,OACpBC,SAAU,SAACjD,EAAGkD,GAAJ,OAAa,EAAKzC,MAAM0C,eAAenD,EAAGkD,IACpDE,aAAcvC,KAAKJ,MAAMuC,OAAO,GAAGK,QAErC,cAACT,EAAA,EAAD,CACE7B,UAAU,WACV8B,YAAY,WACZC,WAAS,EACTC,QAASlC,KAAKJ,MAAM6C,UACpBL,SAAU,SAACjD,EAAGkD,GAAJ,OAAa,EAAKzC,MAAM0C,eAAenD,EAAGkD,IACpDE,aAAcvC,KAAKJ,MAAM8C,cAE3B,cAACX,EAAA,EAAD,CACE7B,UAAU,WACV8B,YAAY,YACZC,WAAS,EACTC,QAASlC,KAAKJ,MAAM+C,UACpBP,SAAU,SAACjD,EAAGkD,GAAJ,OAAa,EAAKzC,MAAM0C,eAAenD,EAAGkD,IACpDE,aAAcvC,KAAKJ,MAAM+C,UAAU,GAAGH,e,GA1BxB9B,c,yBFyBlB+B,G,qIAAYG,OAAOtD,KG7BI,CAC3BuD,EAAG,QACHC,IAAK,QACLC,OAAQ,SACRC,QAAS,SACTC,KAAM,OACNC,WAAY,aACZC,OAAQ,SACRC,KAAM,UHsBFT,EAAY,CAChB,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEIR,EAAS,CACb,UACA,SACA,iBACA,UACA,UACA,iBACA,sBACA,QACA,WACA,mBACAkB,OA8HaC,E,kDAxHb,WAAY1D,GAAQ,IAAD,uBACjB,cAAMA,IACDC,MAAQ,CACX0D,KAAM,OACN/B,MAAO,sBACPgC,SAAU,IAEZ,IAAIC,EAAI,EACRnC,EAAOmB,EAAUd,KAAI,SAAC+B,GAEpB,MAAO,CAAEC,IAAK,MADdF,EACsBG,KAAMF,EAAUlB,MAAOkB,MAE/C,IAAIG,EAAI,EACRtC,EAAOoB,EAAUhB,KAAI,SAAC6B,GAEpB,MAAO,CAAEG,IAAK,MADdE,EACsBD,KAAMJ,EAAUhB,MAAOgB,MAE/C,IAAIM,EAAI,EAjBS,OAkBjBtC,EAAQW,EAAOR,KAAI,SAACH,GAElB,MAAO,CAAEmC,IAAK,MADdG,EACsBF,KAAMpC,EAAOgB,MAAOhB,MAE5C,EAAKc,eAAiB,EAAKA,eAAeyB,KAApB,gBAtBL,E,kDAwBnB,SAAe5E,EAAGkD,GAChB2B,QAAQC,IAAI5B,GACa,UAArBA,EAAKL,YACPhC,KAAKC,SAAS,CAAEuB,MAAOa,EAAKG,QACE,cAArBH,EAAKL,YACdhC,KAAKC,SAAS,CAAEuD,SAAUU,SAAS7B,EAAKG,SACV,aAArBH,EAAKL,aACdhC,KAAKC,SAAS,CAAEsD,KAAMlB,EAAKG,U,oBAG/B,WAAU,IAAD,OACP,OACE,eAAC,IAAM2B,SAAP,WACE,cAAC,EAAD,CACEzB,YAAa1C,KAAKH,MAAM0D,KACxBjB,eAAgBtC,KAAKsC,eACrBG,UAAWnB,EACXqB,UAAWpB,EACXY,OAAQX,IAEV,eAAC,IAAD,CACE4C,MAAM,WACNC,QAAS,IACTC,QAASC,OAAOC,WAAa,GAC7BC,YAAiC,GAApBF,OAAOC,WACpBE,MAAO,CAAE3D,OAAQ,QALnB,UAOE,gCACE,qBAAKb,UAAU,OAAf,SACE,qBAAKA,UAAU,OAAf,yBAEF,cAAC,IAAD,CACEqD,KAAMvD,KAAKH,MAAM0D,KACjB/B,MAAOxB,KAAKH,MAAM2B,MAClBgC,SAAUxD,KAAKH,MAAM2D,SACrBhB,MAAOxC,KAAKJ,MAAMP,KAClB+C,SAAU,SAACC,GAAD,OAAU,EAAKzC,MAAM+E,aAAatC,IAC5CvB,MAAO,QACPC,OAAQ,OACR6D,YAAY,EACZC,YAAa,CAAEC,iBAAiB,GAChCC,WAAY,CACVC,0BAA0B,EAC1BC,gBAAgB,QAItB,gCACE,gCACE,qBAAK/E,UAAU,OAAf,SACE,qBAAKA,UAAU,OAAf,qBAEF,cAAC,IAAD,CACEqD,KAAMvD,KAAKH,MAAM0D,KACjB/B,MAAOxB,KAAKH,MAAM2B,MAClBgC,SAAUxD,KAAKH,MAAM2D,SACrBhB,MAAOxC,KAAKJ,MAAMsF,MAClB9C,SAAU,SAACC,GAAD,OAAU,EAAKzC,MAAMuF,cAAc9C,IAC7CvB,MAAO,QACPC,OAAQ,OACR6D,YAAY,EACZC,YAAa,CAAEC,iBAAiB,GAChCC,WAAY,CACVC,0BAA0B,EAC1BC,gBAAgB,QAItB,gCACE,qBAAK/E,UAAU,OAAf,SACE,qBAAKA,UAAU,OAAf,sBAEF,cAAC,IAAD,CACEqD,KAAMvD,KAAKH,MAAM0D,KACjB/B,MAAOxB,KAAKH,MAAM2B,MAClBgC,SAAUxD,KAAKH,MAAM2D,SACrBhB,MAAOxC,KAAKJ,MAAMwF,OAClBhD,SAAU,SAACC,GAAD,OAAU,EAAKzC,MAAMyF,eAAehD,IAC9CvB,MAAO,QACPC,OAAQ,OACRuE,UAAU,EACVV,YAAY,EACZC,YAAa,CAAEC,iBAAiB,GAChCC,WAAY,CACVC,0BAA0B,EAC1BC,gBAAgB,qB,GA9GbvE,aIxCN6E,G,mKAjBb,WACE,OACE,sBAAKrF,UAAU,SAAf,UACE,mBACEC,KAAK,+CACLqF,OAAO,SACPtF,UAAU,cAHZ,iCAOA,mBAAGC,KAAK,qBAAqBqF,OAAO,SAAStF,UAAU,eAAvD,0C,GAXaQ,c,kCCKf+E,G,OAAS,IAAIC,KACbC,EAASC,IAAG,yBACZC,EAAQ,GAqLCC,E,kDAlLb,WAAYlG,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXS,OAAQ,GACRuB,OAAQ,GACRgE,MAAO,GACPxG,KAAM,GACN6F,MAAO,GACPE,OAAQ,IAEV,EAAKW,kBAAoB,EAAKA,kBAAkBhC,KAAvB,gBACzB,EAAKiC,kBAAoB,EAAKA,kBAAkBjC,KAAvB,gBACzB,EAAKkC,iBAAmB,EAAKA,iBAAiBlC,KAAtB,gBACxB,EAAKmC,kBAAoB,EAAKA,kBAAkBnC,KAAvB,gBACzB,EAAKoC,mBAAqB,EAAKA,mBAAmBpC,KAAxB,gBAdT,E,qDAgBnB,WAAqB,IAAD,OAClB0B,EAAOW,GAAG,QAAQ,SAAC1G,GACjB2G,UAAUC,aACPC,aAAa,CACZzG,OAAO,EACPC,OAAO,IAERyG,MAAK,SAAC3E,GACL,EAAK4E,mBAAmB/G,EAAImC,GAC5B,EAAK6E,eAAehH,EAAImC,GAAQ,GAChC8D,EAAOS,GAAG,kBAAkB,SAAC9F,GAC3B,EAAKqG,iBAAiBrG,EAAQuB,GAC9B,EAAK+E,uBAEPnB,EAAOW,GAAG,QAAQ,SAACS,GACjBA,EAAKC,OAAOjF,GACZgF,EAAKT,GAAG,UAAU,SAACW,GACjB,EAAKL,eAAeG,EAAKjF,KAAMmF,GAAiB,MAElDF,EAAKT,GAAG,SAAS,WACf,IACIY,EADU,EAAKnH,MAAMgG,MACCoB,QAAO,SAACrF,GAChC,OAAOA,EAAKtB,SAAWuG,EAAKjF,QAE9B,EAAK3B,SAAS,CAAE4F,MAAOmB,OAEzBnB,EAAMgB,EAAKjF,MAAQiF,KAErBlB,EAAOuB,KAAK,YAAa,EAAKtH,MAAMuH,OAAQzH,GAC5CiG,EAAOS,GAAG,gBAAgB,SAACgB,GACzB,EAAKC,sBAAsBD,MAE7BzB,EAAOS,GAAG,iBAAiB,SAACgB,GAC1B,EAAKE,uBAAuBF,MAE9BzB,EAAOS,GAAG,kBAAkB,SAACgB,GAC3B,EAAKG,wBAAwBH,MAE/BzB,EAAOS,GAAG,6BAA6B,SAACgB,GACtC,EAAKI,uBAAuBJ,YAIpCzB,EAAOS,GAAG,qBAAqB,SAAC9F,GAC1BuF,EAAMvF,IAASuF,EAAMvF,GAAQmH,a,+BAGrC,WACE9B,EAAOuB,KAAK,oBAAqB,CAC/BQ,QAAS1H,KAAKH,MAAMR,KACpBsI,SAAU3H,KAAKH,MAAMqF,MACrB0C,UAAW5H,KAAKH,MAAMuF,W,oCAG1B,SAAuBgC,GACrBpH,KAAKC,SAAS,CAAEZ,KAAM+H,EAAQM,UAC9B1H,KAAKC,SAAS,CAAEiF,MAAOkC,EAAQO,WAC/B3H,KAAKC,SAAS,CAAEmF,OAAQgC,EAAQQ,c,mCAElC,SAAsBR,GACpBpH,KAAKC,SAAS,CAAEZ,KAAM+H,EAAQM,Y,oCAEhC,SAAuBN,GACrBpH,KAAKC,SAAS,CAAEiF,MAAOkC,EAAQO,a,qCAEjC,SAAwBP,GACtBpH,KAAKC,SAAS,CAAEmF,OAAQgC,EAAQQ,c,8BAElC,SAAiBtH,EAAQuB,GAAS,IAAD,OACzBgF,EAAOpB,EAAOoB,KAAKvG,EAAQuB,GACjCgF,EAAKT,GAAG,UAAU,SAACW,GACjB,EAAKL,eAAepG,EAAQyG,GAAiB,MAE/CF,EAAKT,GAAG,SAAS,WACf,IACIY,EADU,EAAKnH,MAAMgG,MACCoB,QAAO,SAACrF,GAChC,OAAOA,EAAKtB,SAAWA,KAEzB,EAAKL,SAAS,CAAE4F,MAAOmB,OAEzBnB,EAAMvF,GAAUuG,I,4BAGlB,SAAevG,EAAQuB,EAAQgG,GACzBvH,IAAWN,KAAKH,MAAMS,SACxBuB,EAAOiG,iBAAiB,GAAGC,SAAU,EACrClG,EAAOmG,iBAAiB,GAAGD,SAAU,GAEvC,IAAMlC,EAAQ7F,KAAKH,MAAMgG,MACzBA,EAAMoC,SAAQ,SAACrG,GACTA,EAAKtB,SAAWA,IAClBsB,EAAKC,OAASA,EACdgG,GAAO,MAGNA,GAAMhC,EAAMqC,KAAK,CAAE5H,OAAQA,EAAQuB,OAAQA,IAChD7B,KAAKC,SAAS,CAAE4F,MAAOA,M,gCAGzB,SAAmBvF,EAAQuB,GACzB7B,KAAKC,SAAS,CAAEK,OAAQA,EAAQuB,OAAQA,M,+BAG1C,SAAkBvB,GAChBN,KAAKH,MAAMgG,MAAMoC,SAAQ,SAACrG,GACxB,GAAIA,EAAKtB,SAAWA,EAAQ,CAC1B,IAAMyH,EAAUnG,EAAKC,OAAOiG,iBAAiB,GAAGC,QAChDnG,EAAKC,OAAOiG,iBAAiB,GAAGC,SAAWA,Q,+BAKjD,SAAkBzH,GAChBN,KAAKH,MAAMgG,MAAMoC,SAAQ,SAACrG,GACxB,GAAIA,EAAKtB,SAAWA,EAAQ,CAC1B,IAAMyH,EAAUnG,EAAKC,OAAOmG,iBAAiB,GAAGD,QAChDnG,EAAKC,OAAOmG,iBAAiB,GAAGD,SAAWA,Q,8BAIjD,SAAiBL,GACf1H,KAAKC,SAAS,CAAEZ,KAAMqI,IACtB/B,EAAOuB,KAAK,cAAe,CACzBQ,QAASA,M,+BAGb,SAAkBC,GAChB3H,KAAKC,SAAS,CAAEiF,MAAOyC,IACvBhC,EAAOuB,KAAK,eAAgB,CAC1BS,SAAUA,M,gCAGd,SAAmBC,GACjB5H,KAAKC,SAAS,CAAEmF,OAAQwC,IACxBjC,EAAOuB,KAAK,gBAAiB,CAC3BU,UAAWA,M,oBAIf,WACE,OACE,eAAC,IAAMzD,SAAP,WACE,cAAC,EAAD,CACE7D,OAAQN,KAAKH,MAAMS,OACnBuB,OAAQ7B,KAAKH,MAAMgC,OACnBxB,cAAeL,KAAK+F,kBACpBvF,cAAeR,KAAKgG,oBAEtB,cAAC,EAAD,CAAUtE,YAAa1B,KAAKH,MAAMgG,MAAOvF,OAAQN,KAAKH,MAAMS,SAC5D,cAAC,EAAD,CACEjB,KAAMW,KAAKH,MAAMR,KACjB6F,MAAOlF,KAAKH,MAAMqF,MAClBE,OAAQpF,KAAKH,MAAMuF,OACnBT,aAAc3E,KAAKiG,iBACnBd,cAAenF,KAAKkG,kBACpBb,eAAgBrF,KAAKmG,qBAEvB,cAAC,EAAD,W,GA9KUzF,a,eCHNyH,EAAWC,EAAQ,KAAvBC,GAWR,SAASC,IACP,IAAMnB,EAAWoB,cAAXpB,OACN,OAAO,cAAC,EAAD,CAAKA,OAAQA,IAZtBqB,IAASC,OACP,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,IAAD,CAAUC,GAAI,IAAMT,QAEtB,cAAC,IAAD,CAAOQ,KAAK,WAAW1H,SAAU,cAACqH,EAAD,SAEnCO,SAASC,eAAe,U","file":"static/js/main.5b6a2c4c.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 575;","import React, { Component } from \"react\";\r\nimport \"../css/Header.css\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      video: false,\r\n      audio: false,\r\n    };\r\n  }\r\n  toggleAudioCss() {\r\n    let audio = this.state.audio;\r\n    this.setState({ audio: !audio });\r\n  }\r\n  toggleVideoCss() {\r\n    let video = this.state.video;\r\n    this.setState({ video: !video });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"header\">\r\n        <span href=\"#\" className=\"logo\">\r\n          PEER CODER\r\n        </span>\r\n        <div className=\"header-right\">\r\n          <button\r\n            className={this.state.video ? \"buttonOn\" : \"buttonOff\"}\r\n            onClick={() => {\r\n              this.props.onVideoToggle(this.props.userId);\r\n              this.toggleVideoCss();\r\n            }}\r\n          >\r\n            <i\r\n              className={\r\n                this.state.video ? \"fa fa-video-camera\" : \"fa fa-video-slash\"\r\n              }\r\n            ></i>\r\n          </button>\r\n          <button\r\n            className={this.state.audio ? \"buttonOn\" : \"buttonOff\"}\r\n            onClick={() => {\r\n              this.props.onAudioToggle(this.props.userId);\r\n              this.toggleAudioCss();\r\n            }}\r\n          >\r\n            <i\r\n              className={\r\n                this.state.audio ? \"fa fa-microphone\" : \"fa fa-microphone-slash\"\r\n              }\r\n            ></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport \"../css/Video.css\";\r\n\r\nclass Video extends React.Component {\r\n  componentDidMount() {\r\n    this.video.srcObject = this.props.media;\r\n  }\r\n\r\n  shouldComponentUpdate(props) {\r\n    return this.props.media !== props.media;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.video.srcObject = this.props.media;\r\n  }\r\n\r\n  render() {\r\n    const { width, height, muted, children } = this.props;\r\n\r\n    return (\r\n      <video\r\n        height={height}\r\n        width={width}\r\n        muted={muted}\r\n        autoPlay\r\n        ref={(video) => {\r\n          this.video = video;\r\n        }}\r\n      >\r\n        {children}\r\n      </video>\r\n    );\r\n  }\r\n}\r\n\r\nVideo.defaultProps = {\r\n  children: null,\r\n  height: 110,\r\n  width: 160,\r\n  muted: false,\r\n  media: null,\r\n};\r\n\r\nVideo.propTypes = {\r\n  children: PropTypes.element,\r\n  media: PropTypes.shape({\r\n    active: PropTypes.bool,\r\n    ended: PropTypes.bool,\r\n    id: PropTypes.string,\r\n  }),\r\n  height: PropTypes.number,\r\n  width: PropTypes.number,\r\n  muted: PropTypes.bool,\r\n};\r\n\r\nexport default Video;\r\n","import React, { Component } from \"react\";\r\nimport ConfigBar from \"./ConfigBar\";\r\nimport AceEditor from \"react-ace\";\r\nimport SplitPane from \"react-split-pane\";\r\nimport { languageToEditorMode } from \"../config/mappings\";\r\nimport \"ace-builds/webpack-resolver\";\r\n\r\nimport \"ace-builds/src-noconflict/ext-language_tools\";\r\n\r\nimport \"ace-builds/src-noconflict/mode-java\";\r\nimport \"ace-builds/src-noconflict/mode-c_cpp\";\r\nimport \"ace-builds/src-noconflict/mode-python\";\r\nimport \"ace-builds/src-noconflict/mode-javascript\";\r\nimport \"ace-builds/src-noconflict/mode-rust\";\r\nimport \"ace-builds/src-noconflict/mode-kotlin\";\r\n\r\nimport \"ace-builds/src-noconflict/theme-github\";\r\nimport \"ace-builds/src-noconflict/theme-solarized_dark\";\r\nimport \"ace-builds/src-noconflict/theme-dracula\";\r\nimport \"ace-builds/src-noconflict/theme-monokai\";\r\nimport \"ace-builds/src-noconflict/theme-eclipse\";\r\nimport \"ace-builds/src-noconflict/theme-tomorrow_night\";\r\nimport \"ace-builds/src-noconflict/theme-tomorrow_night_blue\";\r\nimport \"ace-builds/src-noconflict/theme-xcode\";\r\nimport \"ace-builds/src-noconflict/theme-ambiance\";\r\nimport \"ace-builds/src-noconflict/theme-solarized_light\";\r\n\r\nimport \"../css/Editor.css\";\r\n\r\nconst languages = Object.keys(languageToEditorMode);\r\nconst fontSizes = [\r\n  \"8\",\r\n  \"10\",\r\n  \"12\",\r\n  \"14\",\r\n  \"16\",\r\n  \"18\",\r\n  \"20\",\r\n  \"22\",\r\n  \"24\",\r\n  \"26\",\r\n  \"28\",\r\n  \"30\",\r\n  \"32\",\r\n];\r\nconst themes = [\r\n  \"monokai\",\r\n  \"github\",\r\n  \"solarized_dark\",\r\n  \"dracula\",\r\n  \"eclipse\",\r\n  \"tomorrow_night\",\r\n  \"tomorrow_night_blue\",\r\n  \"xcode\",\r\n  \"ambiance\",\r\n  \"solarized_light\",\r\n].sort();\r\nvar lang;\r\nvar font;\r\nvar theme;\r\n\r\nclass Editor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mode: \"java\",\r\n      theme: \"tomorrow_night_blue\",\r\n      fontSize: 16,\r\n    };\r\n    let i = 0;\r\n    lang = languages.map((language) => {\r\n      i++;\r\n      return { key: \"\" + i, text: language, value: language };\r\n    });\r\n    let j = 0;\r\n    font = fontSizes.map((fontSize) => {\r\n      j++;\r\n      return { key: \"\" + j, text: fontSize, value: fontSize };\r\n    });\r\n    let k = 0;\r\n    theme = themes.map((theme) => {\r\n      k++;\r\n      return { key: \"\" + k, text: theme, value: theme };\r\n    });\r\n    this.handleOnChange = this.handleOnChange.bind(this);\r\n  }\r\n  handleOnChange(e, data) {\r\n    console.log(data);\r\n    if (data.placeholder === \"Theme\") {\r\n      this.setState({ theme: data.value });\r\n    } else if (data.placeholder === \"Font Size\") {\r\n      this.setState({ fontSize: parseInt(data.value) });\r\n    } else if (data.placeholder === \"Language\") {\r\n      this.setState({ mode: data.value });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <ConfigBar\r\n          defaultMode={this.state.mode}\r\n          handleOnChange={this.handleOnChange}\r\n          languages={lang}\r\n          fontSizes={font}\r\n          themes={theme}\r\n        />\r\n        <SplitPane\r\n          split=\"vertical\"\r\n          minSize={100}\r\n          maxSize={window.innerWidth - 50}\r\n          defaultSize={window.innerWidth * 0.7}\r\n          style={{ height: \"65vh\" }}\r\n        >\r\n          <div>\r\n            <div className=\"head\">\r\n              <div className=\"text\">CODE HERE</div>\r\n            </div>\r\n            <AceEditor\r\n              mode={this.state.mode}\r\n              theme={this.state.theme}\r\n              fontSize={this.state.fontSize}\r\n              value={this.props.code}\r\n              onChange={(data) => this.props.onChangeCode(data)}\r\n              width={\"100vw\"}\r\n              height={\"70vh\"}\r\n              showGutter={true}\r\n              editorProps={{ $blockScrolling: true }}\r\n              setOptions={{\r\n                enableLiveAutocompletion: true,\r\n                enableSnippets: true,\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"head\">\r\n                <div className=\"text\">INPUT</div>\r\n              </div>\r\n              <AceEditor\r\n                mode={this.state.mode}\r\n                theme={this.state.theme}\r\n                fontSize={this.state.fontSize}\r\n                value={this.props.input}\r\n                onChange={(data) => this.props.onChangeInput(data)}\r\n                width={\"100vw\"}\r\n                height={\"30vh\"}\r\n                showGutter={true}\r\n                editorProps={{ $blockScrolling: true }}\r\n                setOptions={{\r\n                  enableLiveAutocompletion: true,\r\n                  enableSnippets: true,\r\n                }}\r\n              />\r\n            </div>\r\n            <div>\r\n              <div className=\"head\">\r\n                <div className=\"text\">OUTPUT</div>\r\n              </div>\r\n              <AceEditor\r\n                mode={this.state.mode}\r\n                theme={this.state.theme}\r\n                fontSize={this.state.fontSize}\r\n                value={this.props.output}\r\n                onChange={(data) => this.props.onChangeOutput(data)}\r\n                width={\"100vw\"}\r\n                height={\"40vh\"}\r\n                readOnly={true}\r\n                showGutter={true}\r\n                editorProps={{ $blockScrolling: true }}\r\n                setOptions={{\r\n                  enableLiveAutocompletion: true,\r\n                  enableSnippets: true,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </SplitPane>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Editor;\r\n","import React, { Component } from \"react\";\r\nimport Video from \"./Video\";\r\nimport \"../css/VideoBar.css\";\r\n\r\nclass VideoBar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"scrollmenu\">\r\n        {this.props.peersStream.map((peer) => {\r\n          return (\r\n            <Video\r\n              key={peer.userId}\r\n              media={peer.stream}\r\n              height={110}\r\n              width={160}\r\n              muted={this.props.userId === peer.userId ? true : false}\r\n            ></Video>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default VideoBar;\r\n","import React, { Component } from \"react\";\r\nimport { Dropdown } from \"semantic-ui-react\";\r\nimport \"../css/ConfigBar.css\";\r\n\r\nclass ConfigBar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"config-bar\">\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Theme\"\r\n          selection\r\n          options={this.props.themes}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.themes[8].value}\r\n        />\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Language\"\r\n          selection\r\n          options={this.props.languages}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.defaultMode}\r\n        />\r\n        <Dropdown\r\n          className=\"dropdown\"\r\n          placeholder=\"Font Size\"\r\n          selection\r\n          options={this.props.fontSizes}\r\n          onChange={(e, data) => this.props.handleOnChange(e, data)}\r\n          defaultValue={this.props.fontSizes[4].value}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfigBar;\r\n","const languageToEditorMode = {\r\n  c: \"c_cpp\",\r\n  cpp: \"c_cpp\",\r\n  python: \"python\",\r\n  python3: \"python\",\r\n  java: \"java\",\r\n  javascript: \"javascript\",\r\n  kotlin: \"kotlin\",\r\n  rust: \"rust\",\r\n};\r\n\r\nexport { languageToEditorMode };\r\n","import React, { Component } from \"react\";\r\nimport \"../css/Footer.css\";\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"footer\">\r\n        <a\r\n          href=\"https://github.com/shreyshreyansh/Peer-Coder\"\r\n          target=\"_blank\"\r\n          className=\"left-footer\"\r\n        >\r\n          ⭐ Star Project\r\n        </a>\r\n        <a href=\"https://github.com\" target=\"_blank\" className=\"right-footer\">\r\n          © GitHub community\r\n        </a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Footer;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport VideoBar from \"./VideoBar\";\r\nimport Editor from \"./Editor\";\r\nimport Footer from \"./Footer\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"peerjs\";\r\nimport \"../css/App.css\";\r\nconst myPeer = new Peer();\r\nconst socket = io(\"http://localhost:4000\");\r\nconst peers = {};\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userId: \"\",\r\n      stream: {},\r\n      peers: [],\r\n      code: \"\",\r\n      input: \"\",\r\n      output: \"\",\r\n    };\r\n    this.handleVideoToggle = this.handleVideoToggle.bind(this);\r\n    this.handleAudioToggle = this.handleAudioToggle.bind(this);\r\n    this.handleChangeCode = this.handleChangeCode.bind(this);\r\n    this.handleChangeInput = this.handleChangeInput.bind(this);\r\n    this.handleChangeOutput = this.handleChangeOutput.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    myPeer.on(\"open\", (id) => {\r\n      navigator.mediaDevices\r\n        .getUserMedia({\r\n          video: true,\r\n          audio: true,\r\n        })\r\n        .then((stream) => {\r\n          this.addUserIdAndStream(id, stream);\r\n          this.addVideoStream(id, stream, false);\r\n          socket.on(\"user-connected\", (userId) => {\r\n            this.connectToNewUser(userId, stream);\r\n            this.sendDatatoNewUser();\r\n          });\r\n          myPeer.on(\"call\", (call) => {\r\n            call.answer(stream);\r\n            call.on(\"stream\", (userVideoStream) => {\r\n              this.addVideoStream(call.peer, userVideoStream, false);\r\n            });\r\n            call.on(\"close\", () => {\r\n              const peers = this.state.peers;\r\n              var peersModified = peers.filter((peer) => {\r\n                return peer.userId !== call.peer;\r\n              });\r\n              this.setState({ peers: peersModified });\r\n            });\r\n            peers[call.peer] = call;\r\n          });\r\n          socket.emit(\"join-room\", this.props.roomId, id);\r\n          socket.on(\"receive code\", (payload) => {\r\n            this.updateCodeFromSockets(payload);\r\n          });\r\n          socket.on(\"receive input\", (payload) => {\r\n            this.updateInputFromSockets(payload);\r\n          });\r\n          socket.on(\"receive output\", (payload) => {\r\n            this.updateOutputFromSockets(payload);\r\n          });\r\n          socket.on(\"receive-data-for-new-user\", (payload) => {\r\n            this.updateStateFromSockets(payload);\r\n          });\r\n        });\r\n    });\r\n    socket.on(\"user-disconnected\", (userId) => {\r\n      if (peers[userId]) peers[userId].close();\r\n    });\r\n  }\r\n  sendDatatoNewUser() {\r\n    socket.emit(\"data-for-new-user\", {\r\n      newCode: this.state.code,\r\n      newInput: this.state.input,\r\n      newOutput: this.state.output,\r\n    });\r\n  }\r\n  updateStateFromSockets(payload) {\r\n    this.setState({ code: payload.newCode });\r\n    this.setState({ input: payload.newInput });\r\n    this.setState({ output: payload.newOutput });\r\n  }\r\n  updateCodeFromSockets(payload) {\r\n    this.setState({ code: payload.newCode });\r\n  }\r\n  updateInputFromSockets(payload) {\r\n    this.setState({ input: payload.newInput });\r\n  }\r\n  updateOutputFromSockets(payload) {\r\n    this.setState({ output: payload.newOutput });\r\n  }\r\n  connectToNewUser(userId, stream) {\r\n    const call = myPeer.call(userId, stream);\r\n    call.on(\"stream\", (userVideoStream) => {\r\n      this.addVideoStream(userId, userVideoStream, false);\r\n    });\r\n    call.on(\"close\", () => {\r\n      const peers = this.state.peers;\r\n      var peersModified = peers.filter((peer) => {\r\n        return peer.userId !== userId;\r\n      });\r\n      this.setState({ peers: peersModified });\r\n    });\r\n    peers[userId] = call;\r\n  }\r\n\r\n  addVideoStream(userId, stream, flag) {\r\n    if (userId === this.state.userId) {\r\n      stream.getVideoTracks()[0].enabled = false;\r\n      stream.getAudioTracks()[0].enabled = false;\r\n    }\r\n    const peers = this.state.peers;\r\n    peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        peer.stream = stream;\r\n        flag = true;\r\n      }\r\n    });\r\n    if (!flag) peers.push({ userId: userId, stream: stream });\r\n    this.setState({ peers: peers });\r\n  }\r\n\r\n  addUserIdAndStream(userId, stream) {\r\n    this.setState({ userId: userId, stream: stream });\r\n  }\r\n\r\n  handleVideoToggle(userId) {\r\n    this.state.peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        const enabled = peer.stream.getVideoTracks()[0].enabled;\r\n        peer.stream.getVideoTracks()[0].enabled = !enabled;\r\n      }\r\n    });\r\n  }\r\n\r\n  handleAudioToggle(userId) {\r\n    this.state.peers.forEach((peer) => {\r\n      if (peer.userId === userId) {\r\n        const enabled = peer.stream.getAudioTracks()[0].enabled;\r\n        peer.stream.getAudioTracks()[0].enabled = !enabled;\r\n      }\r\n    });\r\n  }\r\n  handleChangeCode(newCode) {\r\n    this.setState({ code: newCode });\r\n    socket.emit(\"code change\", {\r\n      newCode: newCode,\r\n    });\r\n  }\r\n  handleChangeInput(newInput) {\r\n    this.setState({ input: newInput });\r\n    socket.emit(\"input change\", {\r\n      newInput: newInput,\r\n    });\r\n  }\r\n  handleChangeOutput(newOutput) {\r\n    this.setState({ output: newOutput });\r\n    socket.emit(\"output change\", {\r\n      newOutput: newOutput,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Header\r\n          userId={this.state.userId}\r\n          stream={this.state.stream}\r\n          onVideoToggle={this.handleVideoToggle}\r\n          onAudioToggle={this.handleAudioToggle}\r\n        />\r\n        <VideoBar peersStream={this.state.peers} userId={this.state.userId} />\r\n        <Editor\r\n          code={this.state.code}\r\n          input={this.state.input}\r\n          output={this.state.output}\r\n          onChangeCode={this.handleChangeCode}\r\n          onChangeInput={this.handleChangeInput}\r\n          onChangeOutput={this.handleChangeOutput}\r\n        />\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  useParams,\n  Redirect,\n} from \"react-router-dom\";\nconst { v4: uuidV4 } = require(\"uuid\");\nReactDOM.render(\n  <Router>\n    <Route exact path=\"/\">\n      <Redirect to={\"/\" + uuidV4()} />\n    </Route>\n    <Route path=\"/:roomId\" children={<Room />} />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\nfunction Room() {\n  let { roomId } = useParams();\n  return <App roomId={roomId} />;\n}\n"],"sourceRoot":""}